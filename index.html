<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clash Royale Mini App</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div class="container">
        <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->
        <div class="top-bar">
            <div class="resources">
                <div class="resource gold">
                    <i class="fas fa-coins"></i>
                    <span id="gold">1000</span>
                </div>
                <div class="resource gems">
                    <i class="fas fa-gem"></i>
                    <span id="gems">50</span>
                </div>
                <div class="resource trophies">
                    <i class="fas fa-trophy"></i>
                    <span id="trophies">1500</span>
                </div>
                <div class="resource energy">
                    <i class="fas fa-bolt"></i>
                    <span id="energy">100/100</span>
                </div>
            </div>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <div class="main-content">
            <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
            <div id="mainMenu" class="screen active">
                <div class="player-info">
                    <div class="avatar">
                        <i class="fas fa-crown"></i>
                    </div>
                    <div class="player-details">
                        <h2 id="playerName">–ò–≥—Ä–æ–∫</h2>
                        <div class="level">–£—Ä–æ–≤–µ–Ω—å <span id="playerLevel">1</span></div>
                    </div>
                </div>

                <div class="menu-buttons">
                    <button class="menu-btn battle-btn" onclick="showScreen('battle')">
                        <i class="fas fa-swords"></i>
                        <span>–ë–∏—Ç–≤–∞</span>
                    </button>
                    <button class="menu-btn deck-btn" onclick="showScreen('deck')">
                        <i class="fas fa-layer-group"></i>
                        <span>–ö–æ–ª–æ–¥–∞</span>
                    </button>
                    <button class="menu-btn collection-btn" onclick="showScreen('collection')">
                        <i class="fas fa-box-open"></i>
                        <span>–ö–æ–ª–ª–µ–∫—Ü–∏—è</span>
                    </button>
                    <button class="menu-btn chest-btn" onclick="showScreen('chest')">
                        <i class="fas fa-gift"></i>
                        <span>–°—É–Ω–¥—É–∫</span>
                    </button>
                    <button class="menu-btn shop-btn" onclick="showScreen('shop')">
                        <i class="fas fa-store"></i>
                        <span>–ú–∞–≥–∞–∑–∏–Ω</span>
                    </button>
                    <button class="menu-btn arena-btn" onclick="showScreen('arena')">
                        <i class="fas fa-flag"></i>
                        <span>–ê—Ä–µ–Ω–∞</span>
                    </button>
                </div>

                <div class="quick-stats">
                    <div class="stat">
                        <i class="fas fa-check"></i>
                        <span id="wins">0</span>
                    </div>
                    <div class="stat">
                        <i class="fas fa-times"></i>
                        <span id="losses">0</span>
                    </div>
                    <div class="stat">
                        <i class="fas fa-chart-line"></i>
                        <span id="winrate">0%</span>
                    </div>
                </div>
            </div>

            <!-- –≠–∫—Ä–∞–Ω –±–∏—Ç–≤—ã -->
            <div id="battle" class="screen">
                <div class="screen-header">
                    <button class="back-btn" onclick="showScreen('mainMenu')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h2>–ë–∏—Ç–≤–∞</h2>
                </div>

                <div class="battle-options">
                    <button class="battle-option quick-battle" onclick="startQuickBattle()">
                        <i class="fas fa-bolt"></i>
                        <h3>–ë—ã—Å—Ç—Ä–∞—è –±–∏—Ç–≤–∞</h3>
                        <p>–°—Ä–∞–∂–∞–π—Å—è —Å –∏–≥—Ä–æ–∫–æ–º —Ç–≤–æ–µ–≥–æ —É—Ä–æ–≤–Ω—è</p>
                        <div class="cost">‚ö° 10 —ç–Ω–µ—Ä–≥–∏–∏</div>
                    </button>

                    <button class="battle-option tournament" onclick="startTournament()">
                        <i class="fas fa-trophy"></i>
                        <h3>–¢—É—Ä–Ω–∏—Ä</h3>
                        <p>–°–æ—Ä–µ–≤–Ω—É–π—Å—è –∑–∞ –Ω–∞–≥—Ä–∞–¥—ã</p>
                        <div class="cost">üèÜ 50 —Ç—Ä–æ—Ñ–µ–µ–≤</div>
                    </button>

                    <button class="battle-option training" onclick="startTraining()">
                        <i class="fas fa-robot"></i>
                        <h3>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</h3>
                        <p>–°—Ä–∞–∂–∞–π—Å—è —Å –±–æ—Ç–∞–º–∏</p>
                        <div class="cost">üÜì –ë–µ—Å–ø–ª–∞—Ç–Ω–æ</div>
                    </button>

                    <button class="battle-option duel" onclick="showScreen('duel')">
                        <i class="fas fa-user-friends"></i>
                        <h3>–î—É—ç–ª—å —Å –¥—Ä—É–≥–æ–º</h3>
                        <p>–ü—Ä–∏–≥–ª–∞—Å–∏ –¥—Ä—É–≥–∞ –Ω–∞ –±–∏—Ç–≤—É</p>
                        <div class="cost">üë• 1 –Ω–∞ 1</div>
                    </button>
                </div>
            </div>

            <!-- –≠–∫—Ä–∞–Ω –±–∏—Ç–≤—ã (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ) -->
            <div id="battleScreen" class="screen">
                <div class="battle-container">
                    <div class="arena">
                        <div class="opponent-side">
                            <div class="player-info-small">
                                <div class="avatar-small opponent">
                                    <i class="fas fa-robot"></i>
                                </div>
                                <div class="name">–ü—Ä–æ—Ç–∏–≤–Ω–∏–∫</div>
                                <div class="trophies">üèÜ 1450</div>
                            </div>
                            <div class="opponent-cards">
                                <!-- –ö–∞—Ä—Ç—ã –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                            </div>
                        </div>

                        <div class="battle-field">
                            <div class="tower enemy-tower">
                                <div class="tower-health">1200</div>
                            </div>
                            <div class="units">
                                <!-- –Æ–Ω–∏—Ç—ã –≤ –±–æ—é -->
                            </div>
                            <div class="tower player-tower">
                                <div class="tower-health">1200</div>
                            </div>
                        </div>

                        <div class="player-side">
                            <div class="player-info-small">
                                <div class="avatar-small player">
                                    <i class="fas fa-crown"></i>
                                </div>
                                <div class="name" id="playerBattleName">–í—ã</div>
                                <div class="trophies">üèÜ <span id="playerBattleTrophies">1500</span></div>
                            </div>
                            
                            <div class="elixir-bar">
                                <div class="elixir-fill" id="elixirFill"></div>
                                <div class="elixir-count" id="elixirCount">10</div>
                            </div>

                            <div class="player-hand" id="playerHand">
                                <!-- –ö–∞—Ä—Ç—ã –≤ —Ä—É–∫–µ -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –≠–∫—Ä–∞–Ω –∫–æ–ª–æ–¥—ã -->
            <div id="deck" class="screen">
                <div class="screen-header">
                    <button class="back-btn" onclick="showScreen('mainMenu')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h2>–ú–æ—è –∫–æ–ª–æ–¥–∞</h2>
                    <button class="edit-btn" onclick="toggleDeckEdit()">
                        <i class="fas fa-edit"></i>
                    </button>
                </div>

                <div class="deck-display" id="currentDeck">
                    <!-- –ö–∞—Ä—Ç—ã –∫–æ–ª–æ–¥—ã -->
                </div>

                <div class="collection-cards" id="collectionCards">
                    <!-- –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–∞—Ä—Ç—ã -->
                </div>

                <div class="deck-actions">
                    <button class="action-btn save-btn" onclick="saveDeck()" style="display: none;">
                        <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                    </button>
                    <button class="action-btn upgrade-btn" onclick="showScreen('upgrade')">
                        <i class="fas fa-arrow-up"></i> –£–ª—É—á—à–∏—Ç—å
                    </button>
                </div>
            </div>

            <!-- –≠–∫—Ä–∞–Ω –∫–æ–ª–ª–µ–∫—Ü–∏–∏ -->
            <div id="collection" class="screen">
                <div class="screen-header">
                    <button class="back-btn" onclick="showScreen('mainMenu')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h2>–ö–æ–ª–ª–µ–∫—Ü–∏—è</h2>
                    <div class="filters">
                        <select id="rarityFilter" onchange="filterCards()">
                            <option value="all">–í—Å–µ</option>
                            <option value="common">–û–±—ã—á–Ω—ã–µ</option>
                            <option value="rare">–†–µ–¥–∫–∏–µ</option>
                            <option value="epic">–≠–ø–∏—á–µ—Å–∫–∏–µ</option>
                            <option value="legendary">–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–µ</option>
                        </select>
                    </div>
                </div>

                <div class="collection-grid" id="cardCollection">
                    <!-- –í—Å–µ –∫–∞—Ä—Ç—ã –∫–æ–ª–ª–µ–∫—Ü–∏–∏ -->
                </div>
            </div>

            <!-- –≠–∫—Ä–∞–Ω —Å—É–Ω–¥—É–∫–æ–≤ -->
            <div id="chest" class="screen">
                <div class="screen-header">
                    <button class="back-btn" onclick="showScreen('mainMenu')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h2>–°—É–Ω–¥—É–∫–∏</h2>
                    <div class="timer" id="chestTimer">
                        <i class="fas fa-clock"></i>
                        <span>00:00</span>
                    </div>
                </div>

                <div class="chest-container">
                    <div class="chest wooden" onclick="openChest('wooden')">
                        <div class="chest-icon">
                            <i class="fas fa-box"></i>
                        </div>
                        <h3>–î–µ—Ä–µ–≤—è–Ω–Ω—ã–π</h3>
                        <p>3-5 –∫–∞—Ä—Ç</p>
                        <div class="chest-cost">üÜì –ë–µ—Å–ø–ª–∞—Ç–Ω–æ</div>
                    </div>

                    <div class="chest silver" onclick="openChest('silver')">
                        <div class="chest-icon">
                            <i class="fas fa-box"></i>
                        </div>
                        <h3>–°–µ—Ä–µ–±—Ä—è–Ω—ã–π</h3>
                        <p>5-8 –∫–∞—Ä—Ç</p>
                        <div class="chest-cost">üí∞ 100 –∑–æ–ª–æ—Ç–∞</div>
                    </div>

                    <div class="chest golden" onclick="openChest('golden')">
                        <div class="chest-icon">
                            <i class="fas fa-box"></i>
                        </div>
                        <h3>–ó–æ–ª–æ—Ç–æ–π</h3>
                        <p>8-12 –∫–∞—Ä—Ç</p>
                        <div class="chest-cost">üíé 10 —Å–∞–º–æ—Ü–≤–µ—Ç–æ–≤</div>
                    </div>

                    <div class="chest magical" onclick="openChest('magical')">
                        <div class="chest-icon">
                            <i class="fas fa-box"></i>
                        </div>
                        <h3>–í–æ–ª—à–µ–±–Ω—ã–π</h3>
                        <p>10-15 –∫–∞—Ä—Ç</p>
                        <div class="chest-cost">üíé 50 —Å–∞–º–æ—Ü–≤–µ—Ç–æ–≤</div>
                    </div>
                </div>
            </div>

            <!-- –≠–∫—Ä–∞–Ω –æ—Ç–∫—Ä—ã—Ç–∏—è —Å—É–Ω–¥—É–∫–∞ -->
            <div id="chestOpening" class="screen">
                <div class="chest-opening">
                    <div class="chest-large" id="openingChest">
                        <i class="fas fa-gift"></i>
                    </div>
                    <button class="open-btn" onclick="revealCards()">
                        –û—Ç–∫—Ä—ã—Ç—å!
                    </button>
                    <div class="cards-reveal" id="cardsReveal">
                        <!-- –ö–∞—Ä—Ç—ã –∏–∑ —Å—É–Ω–¥—É–∫–∞ -->
                    </div>
                </div>
            </div>

            <!-- –≠–∫—Ä–∞–Ω –º–∞–≥–∞–∑–∏–Ω–∞ -->
            <div id="shop" class="screen">
                <div class="screen-header">
                    <button class="back-btn" onclick="showScreen('mainMenu')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <h2>–ú–∞–≥–∞–∑–∏–Ω</h2>
                </div>

                <div class="shop-items">
                    <div class="shop-item">
                        <div class="item-icon">
                            <i class="fas fa-coins"></i>
                        </div>
                        <h3>100 –∑–æ–ª–æ—Ç–∞</h3>
                        <p>–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ</p>
                        <button class="buy-btn" onclick="buyGold(100)">
                            üíé 10
                        </button>
                    </div>

                    <div class="shop-item">
                        <div class="item-icon">
                            <i class="fas fa-gem"></i>
                        </div>
                        <h3>10 —Å–∞–º–æ—Ü–≤–µ—Ç–æ–≤</h3>
                        <p>–ü—Ä–µ–º–∏—É–º –≤–∞–ª—é—Ç–∞</p>
                        <button class="buy-btn" onclick="buyGems(10)">
                            üí∞ 1000
                        </button>
                    </div>

                    <div class="shop-item">
                        <div class="item-icon">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <h3>–ü–æ–ª–Ω–∞—è —ç–Ω–µ—Ä–≥–∏—è</h3>
                        <p>–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–æ 100</p>
                        <button class="buy-btn" onclick="refillEnergy()">
                            üíé 5
                        </button>
                    </div>

                    <div class="shop-item">
                        <div class="item-icon">
                            <i class="fas fa-box"></i>
                        </div>
                        <h3>–ó–æ–ª–æ—Ç–æ–π —Å—É–Ω–¥—É–∫</h3>
                        <p>8-12 –∫–∞—Ä—Ç</p>
                        <button class="buy-btn" onclick="buyChest('golden')">
                            üíé 50
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ù–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å -->
        <div class="bottom-nav">
            <button class="nav-btn active" onclick="showScreen('mainMenu')">
                <i class="fas fa-home"></i>
                <span>–ì–ª–∞–≤–Ω–∞—è</span>
            </button>
            <button class="nav-btn" onclick="showScreen('battle')">
                <i class="fas fa-swords"></i>
                <span>–ë–∏—Ç–≤–∞</span>
            </button>
            <button class="nav-btn" onclick="showScreen('deck')">
                <i class="fas fa-layer-group"></i>
                <span>–ö–æ–ª–æ–¥–∞</span>
            </button>
            <button class="nav-btn" onclick="showScreen('chest')">
                <i class="fas fa-gift"></i>
                <span>–°—É–Ω–¥—É–∫</span>
            </button>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π -->
    <div id="notification" class="notification">
        <div class="notification-content">
            <span id="notificationText"></span>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>